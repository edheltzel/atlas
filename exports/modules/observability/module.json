{
  "name": "observability",
  "version": "1.0.0",
  "description": "Real-time dashboard for monitoring Claude Code sessions and events",
  "dependencies": [],

  "hooks": {
    "PreToolUse": [
      { "command": "bun run $CLAUDE_DIR/hooks/capture-all-events.ts --event-type PreToolUse" }
    ],
    "PostToolUse": [
      { "command": "bun run $CLAUDE_DIR/hooks/capture-all-events.ts --event-type PostToolUse" }
    ],
    "UserPromptSubmit": [
      { "command": "bun run $CLAUDE_DIR/hooks/capture-all-events.ts --event-type UserPromptSubmit" }
    ],
    "Stop": [
      { "command": "bun run $CLAUDE_DIR/hooks/capture-all-events.ts --event-type Stop" }
    ],
    "SubagentStop": [
      { "command": "bun run $CLAUDE_DIR/hooks/capture-all-events.ts --event-type SubagentStop" }
    ],
    "SessionStart": [
      { "command": "bun run $CLAUDE_DIR/hooks/capture-all-events.ts --event-type SessionStart" }
    ],
    "SessionEnd": [
      { "command": "bun run $CLAUDE_DIR/hooks/capture-session-summary.ts" },
      { "command": "bun run $CLAUDE_DIR/hooks/capture-all-events.ts --event-type SessionEnd" }
    ]
  },

  "files": [
    { "src": "observability/", "dest": "observability/" },
    { "src": "hooks/", "dest": "hooks/" }
  ],

  "config": {
    "observability": {
      "enabled": true,
      "port": 3000
    }
  },

  "env": [
    {
      "key": "PAI_OBSERVABILITY_URL",
      "required": false,
      "default": "http://localhost:4000/events",
      "description": "Observability server event endpoint"
    }
  ],

  "commands": ["observability.md"],

  "postInstall": "cd $CLAUDE_DIR/observability/apps/server && bun install && cd ../client && bun install"
}
